# NBA预测系统改进路线图

**项目负责人**: 周淼淼  
**启动日期**: 2026-02-23  
**目标**: MAE 17.31→11-12分, ROI +40.3%→+55%

---

## 📊 当前状态（基线）

| 指标 | 当前值 | 目标值 | 提升幅度 |
|------|--------|--------|---------|
| MAE | 17.31分 | 11-12分 | **-35%** |
| ROI @215 | +40.3% | +55% | **+36%** |
| 准确率 | 73.5% | 76-78% | **+4%** |
| 伤病特征权重 | 5.25% | 12-15% | **+180%** |
| Paper Trading | 1场/1胜 | 50场 | **积累实战数据** |

**首战成绩**: BKN@ATL ✅ 盈利$45, ROI +90%

---

## 🎯 三阶段路线图

### 阶段1: 快速改进（Week 1）🔥
**时间**: 2026-02-23 ~ 2026-03-01 (7天)  
**目标**: 快速见效，MAE降到15分，ROI +45%

### 阶段2: 深度优化（Week 2-3）⭐
**时间**: 2026-03-02 ~ 2026-03-15 (14天)  
**目标**: 实施方案2，MAE降到12分，ROI +52%

### 阶段3: 系统完善（Week 4+）💎
**时间**: 2026-03-16+ (持续)  
**目标**: 长期优化，MAE降到11分，ROI +55%+

---

## 📅 Week 1 详细计划 (2026-02-23 ~ 03-01)

### Day 1: 周一 02-23 ✅ 今天

**上午 (10:00-12:00)**
- [x] ✅ 首战复盘（BKN@ATL）
- [ ] 🔧 **任务1.1**: 系统偏差校正 (+2.7分)
  - 修改 `scripts/predict_v3.py`
  - 测试预测输出
  - 部署到VPS

**下午 (14:00-18:00)**
- [ ] 📊 **任务1.2**: 扩展球员数据库
  - 目标: 88人 → 300人（每队10人）
  - 修改 `scripts/build_player_stats.py`
  - 从ESPN抓取数据
  - 更新 `data/player_stats.json`

**晚上 (20:00-22:00)**
- [ ] 📝 撰写改进日志
- [ ] 🧪 Paper trading: 观察今晚3场比赛结果

---

### Day 2: 周二 02-24

**上午 (09:00-12:00)**
- [ ] 🏥 **任务1.3**: 伤病数据质量检查
  - 验证88个球员覆盖率
  - 检查伤病报告准确性
  - 对比BKN@ATL预测vs实际伤病

**下午 (14:00-18:00)**
- [ ] 📈 **任务1.4**: 新增防守特征（快速版）
  - 每队防守排名（Defensive Rating Rank）
  - 从Basketball Reference抓取
  - 集成到 `build_features_v3.py`

**验证点**: 
- 重新训练模型V3.1
- 对比MAE: 17.31 → 预期 15.5-16分

---

### Day 3: 周三 02-25

**上午 (09:00-12:00)**
- [ ] ⚡ **任务1.5**: 新增节奏特征（Pace）
  - 球队节奏排名
  - 预期得分 = f(pace, efficiency)
  - 集成到特征工程

**下午 (14:00-18:00)**
- [ ] 🔄 **任务1.6**: 重新训练模型V3.1
  - 新特征: 偏差校正 + 防守 + 节奏
  - 预期: 22维特征（20+2）
  - 交叉验证

**验证点**:
- 回测MAE目标: <16分
- 如果达成，部署V3.1到VPS

---

### Day 4-5: 周四-周五 02-26/27

**全天**
- [ ] 📊 **Paper Trading数据收集**
  - 每天4-6场比赛
  - 详细记录预测vs实际
  - 分析误差模式

**分析重点**:
- 哪些类型比赛预测准？（主客场、球队风格）
- 哪些类型比赛预测差？
- V3.1 vs V3性能对比

---

### Day 6-7: 周末 02-28/03-01

**准备阶段2**
- [ ] 📋 设计方案2架构（8特征伤病系统）
- [ ] 🧪 测试数据获取（ESPN API、高级统计）
- [ ] 📝 撰写Week 1总结报告

**Week 1 里程碑检查**:
- [ ] MAE降到15-16分？
- [ ] Paper trading 10+场？
- [ ] V3.1模型稳定？

---

## 📅 Week 2-3 计划 (2026-03-02 ~ 03-15)

### 核心任务: 方案2实施

**Week 2 (03-02 ~ 03-08)**
- [ ] 🏗️ 搭建8特征伤病系统架构
- [ ] 📊 获取高级统计数据（PER, Usage Rate, DBPM）
- [ ] 🔧 实现伤病影响加权计算
- [ ] 🧪 V3.2模型训练

**Week 3 (03-09 ~ 03-15)**
- [ ] 🔍 V3.2 vs V3.1性能对比
- [ ] 📈 Paper trading验证（累计30-40场）
- [ ] 🚀 如果ROI >45%，部署V3.2生产
- [ ] 📝 撰写技术报告

**Week 2-3 里程碑**:
- [ ] MAE降到12-13分
- [ ] ROI提升到+50%+
- [ ] Paper trading 30场+，胜率>65%

---

## 📅 Week 4+ 长期优化

### 持续改进项

1. **扩大数据集**
   - 180天历史数据
   - 覆盖整个赛季变化

2. **模型集成**
   - XGBoost + LightGBM + Linear组合
   - 提升鲁棒性

3. **实时监控**
   - 每场比赛实时跟踪误差
   - 自动模型调优

4. **风险管理**
   - Kelly Criterion下注策略
   - 动态资金管理

---

## 📊 每日工作节奏

### 工作日 (周一~周五)

**上午 (09:00-12:00)**: 开发时间
- 专注写代码、训练模型
- 深度工作，不被打断

**下午 (14:00-18:00)**: 测试&集成
- 测试新功能
- 部署到VPS
- 文档更新

**晚上 (20:00-22:00)**: 分析&规划
- Paper trading复盘
- 第二天任务规划
- 技术调研

### 周末

**灵活安排**: 
- 如有必要继续开发
- 优先paper trading数据分析
- 准备下周任务

---

## 🎯 验证点和决策树

### Week 1结束时

**如果MAE <16分**:
- ✅ 继续Week 2方案2实施
- 💰 考虑增加paper trading频率

**如果MAE >16分**:
- ⚠️ 诊断问题（数据质量？特征工程？）
- 🔧 调整Week 2计划，优先修复

---

### Week 3结束时

**如果Paper Trading ROI >45%**:
- 🚀 开始真钱小额测试（$10-20/场）
- 📈 扩大规模（每天3-5场）

**如果ROI <35%**:
- ⏸️ 暂停实战，回到模型优化
- 🔍 深度分析失败案例

---

## 📝 文档和交付物

### 每周交付

- [ ] Week 1: V3.1模型 + 性能报告
- [ ] Week 2: 方案2架构文档
- [ ] Week 3: V3.2模型 + 30场Paper Trading报告

### 持续更新

- [ ] `IMPROVEMENT_LOG.md` - 每日进展
- [ ] `PERFORMANCE_METRICS.md` - 性能追踪
- [ ] `PAPER_TRADING_ANALYSIS.md` - 实战分析

---

## ⏰ 自动化提醒

**每日提醒** (09:00):
- 今日任务清单
- Paper trading结果回顾

**每周提醒** (周一 09:00):
- 上周完成度
- 本周目标
- 里程碑检查

**关键节点** (Week 1/2/3结束):
- 性能评估
- 决策点判断
- 下阶段规划

---

## 💰 投资回报预测

### 保守估计

| 阶段 | 时间投入 | MAE | ROI | 累计价值 |
|------|---------|-----|-----|---------|
| 当前 | 0h | 17.31 | +40.3% | 基线 |
| Week 1 | 20h | 15.5 | +45% | +$1k/年* |
| Week 3 | 60h | 12.5 | +52% | +$3k/年* |
| Week 6 | 100h | 11.0 | +55% | +$5k/年* |

*假设每天2场，每场$50，年化计算

### 乐观估计

如果ROI达到+60%，年收益可达 **$8k-10k**

---

## 🚨 风险和应对

### 风险1: 时间不足
- **应对**: 优先快速胜利（Week 1任务）
- **降级方案**: 延长Week 2到3周

### 风险2: 数据质量问题
- **应对**: 多源验证（ESPN + NBA.com）
- **备选方案**: 简化特征，优先可靠数据

### 风险3: Paper Trading表现差
- **应对**: 立即暂停，回到模型优化
- **阈值**: 如果10场ROI <20%，暂停实战

---

## 📌 下一步行动（今天下午）

1. ✅ **14:00-15:00**: 实施任务1.1（系统偏差校正）
2. ✅ **15:00-17:00**: 实施任务1.2（扩展球员数据库）
3. ✅ **17:00-18:00**: 测试和部署
4. ✅ **21:00**: 观察今晚比赛预测效果

---

**项目启动时间**: 2026-02-23 14:00  
**第一个里程碑**: 2026-03-01 (Week 1完成)  
**最终目标**: 2026-03-23 (ROI +55%, 真钱测试启动)

🌊 Let's build!
